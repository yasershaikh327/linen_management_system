2025-11-23 16:55:25.128 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 16:55:25.418 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 16:55:25.563 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 16:55:25.564 +05:30 [INF] Hosting environment: Development
2025-11-23 16:55:25.564 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 16:55:25.720 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 313.65ms
2025-11-23 16:55:25.737 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 16:55:25.740 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 16:55:25.746 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 6.2707ms
2025-11-23 16:55:25.784 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.8715ms
2025-11-23 16:55:25.815 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 16:55:25.829 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.3822ms
2025-11-23 16:55:27.722 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 16:55:27.922 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 16:55:27.951 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 16:55:31.826 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 16:55:32.281 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], COALESCE([c].[ReceiptNumber], N'') AS [ReceiptNumber], COALESCE([c].[Comments], N'') AS [Comments], [c].[ReportedWeight], [c].[ActualWeight], [c].[DateWeighed], [c].[CartId], [c].[LocationId], [c].[EmployeeId]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 16:55:32.295 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 16:55:32.379 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 4425.3843ms
2025-11-23 16:55:32.379 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 16:55:32.416 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 101
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 16:55:32.426 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 4704.5409ms
2025-11-23 17:00:41.575 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:00:41.868 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:00:41.869 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:00:42.139 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:00:42.140 +05:30 [INF] Hosting environment: Development
2025-11-23 17:00:42.140 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:00:42.202 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:00:42.274 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:00:42.296 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 442.776ms
2025-11-23 17:00:42.333 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:00:42.334 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:00:42.346 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 11.8687ms
2025-11-23 17:00:42.394 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.1262ms
2025-11-23 17:00:42.475 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:00:42.495 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.0942ms
2025-11-23 17:00:43.109 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:00:44.147 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ReportedWeight], [c].[ActualWeight], [c].[CartId], [c].[LocationId], [c].[EmployeeId]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:00:44.171 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:00:44.387 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 2110.1416ms
2025-11-23 17:00:44.388 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:00:44.561 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 101
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:00:44.600 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 2747.4263ms
2025-11-23 17:00:47.855 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:00:47.863 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:00:47.863 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:00:47.931 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ReportedWeight], [c].[ActualWeight], [c].[CartId], [c].[LocationId], [c].[EmployeeId]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:00:47.932 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:00:48.041 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 177.7082ms
2025-11-23 17:00:48.042 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:00:48.133 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 101
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:00:48.136 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 281.1244ms
2025-11-23 17:00:54.968 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:00:54.974 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:00:54.974 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:00:55.068 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ReportedWeight], [c].[ActualWeight], [c].[CartId], [c].[LocationId], [c].[EmployeeId]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:00:55.069 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:00:55.157 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 183.0648ms
2025-11-23 17:00:55.157 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:00:55.224 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 101
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:00:55.228 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 260.3969ms
2025-11-23 17:01:01.250 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:01:01.253 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:01:01.253 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:01:04.508 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ReportedWeight], [c].[ActualWeight], [c].[CartId], [c].[LocationId], [c].[EmployeeId]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:01:04.519 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:01:04.571 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 3317.0491ms
2025-11-23 17:01:04.572 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:01:04.599 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 101
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:01:04.600 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 3350.8596ms
2025-11-23 17:02:19.747 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:02:20.044 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:02:20.044 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:02:20.240 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:02:20.240 +05:30 [INF] Hosting environment: Development
2025-11-23 17:02:20.241 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:02:20.301 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:02:20.345 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:02:20.378 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 345.901ms
2025-11-23 17:02:20.418 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:02:20.431 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:02:20.433 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 15.3393ms
2025-11-23 17:02:20.477 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.89ms
2025-11-23 17:02:20.563 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:02:20.579 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.2778ms
2025-11-23 17:02:24.126 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:02:24.580 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ReportedWeight], [c].[ActualWeight], [c].[CartId], [c].[LocationId], [c].[EmployeeId]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:02:24.591 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:02:24.667 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 4319.3269ms
2025-11-23 17:02:24.668 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:02:24.707 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 101
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:02:24.718 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 4686.6509ms
2025-11-23 17:02:54.117 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:02:54.124 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:02:54.125 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:02:54.196 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ReportedWeight], [c].[ActualWeight], [c].[CartId], [c].[LocationId], [c].[EmployeeId]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:02:54.197 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:02:54.358 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 229.473ms
2025-11-23 17:02:54.358 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:02:54.474 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Int32()
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method17(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 101
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:02:54.477 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 360.5195ms
2025-11-23 17:03:00.344 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:03:00.350 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 6.8873ms
2025-11-23 17:03:00.403 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:03:00.404 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 0.7865ms
2025-11-23 17:03:00.410 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:03:00.467 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.2571ms
2025-11-23 17:03:00.552 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:03:00.558 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.2085ms
2025-11-23 17:03:03.130 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:03:03.140 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:03:03.153 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:03:09.379 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:03:09.423 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:03:09.482 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 6329.1493ms
2025-11-23 17:03:09.482 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:03:09.517 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method27(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId)
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:03:09.519 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 6389.901ms
2025-11-23 17:04:20.291 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:04:20.563 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:04:20.835 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:04:20.835 +05:30 [INF] Hosting environment: Development
2025-11-23 17:04:20.835 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:04:20.855 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 300.1998ms
2025-11-23 17:04:20.868 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:04:20.868 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:04:20.877 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 5.5015ms
2025-11-23 17:04:20.911 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.5679ms
2025-11-23 17:04:20.943 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:04:20.957 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.0085ms
2025-11-23 17:04:26.290 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:04:26.490 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:04:26.529 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:04:34.594 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:05:52.906 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:05:53.226 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:05:53.225 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:05:53.419 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:05:53.419 +05:30 [INF] Hosting environment: Development
2025-11-23 17:05:53.419 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:05:53.471 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:05:53.508 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:05:53.529 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 314.8284ms
2025-11-23 17:05:53.559 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:05:53.566 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 5.6848ms
2025-11-23 17:05:53.568 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:05:53.629 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.9485ms
2025-11-23 17:05:53.717 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:05:53.728 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.3952ms
2025-11-23 17:06:01.876 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:06:04.780 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogDetailId] = @__p_0
2025-11-23 17:07:55.176 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:07:55.459 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:07:55.460 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:07:55.651 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:07:55.651 +05:30 [INF] Hosting environment: Development
2025-11-23 17:07:55.652 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:07:55.716 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:07:55.753 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:07:55.774 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 329.4969ms
2025-11-23 17:07:55.805 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:07:55.815 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:07:55.821 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 17.6107ms
2025-11-23 17:07:55.873 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.0996ms
2025-11-23 17:07:55.947 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:07:55.958 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.797ms
2025-11-23 17:08:00.752 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:08:01.156 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogDetailId] = @__p_0
2025-11-23 17:08:35.731 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartLog] ([ActualWeight], [CartId], [Comments], [DateWeighed], [EmployeeId], [LocationId], [ReceiptNumber], [ReportedWeight])
OUTPUT INSERTED.[CartLogId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-23 17:08:39.841 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:08:39.855 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1e43d375-d332-4e64-a100-aee59dc7e906
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1e43d375-d332-4e64-a100-aee59dc7e906
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-23 17:08:39.898 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 44142.645ms
2025-11-23 17:08:39.899 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:08:39.938 +05:30 [ERR] Exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1e43d375-d332-4e64-a100-aee59dc7e906
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 150
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:08:39.949 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 44505.2231ms
2025-11-23 17:08:56.849 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:08:56.886 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:08:56.887 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:09:16.321 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
2025-11-23 17:09:59.892 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogDetailId] = @__p_0
2025-11-23 17:10:01.076 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CartLog] ([ActualWeight], [CartId], [Comments], [DateWeighed], [EmployeeId], [LocationId], [ReceiptNumber], [ReportedWeight])
OUTPUT INSERTED.[CartLogId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-23 17:10:05.434 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:10:05.437 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1e43d375-d332-4e64-a100-aee59dc7e906
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1e43d375-d332-4e64-a100-aee59dc7e906
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-23 17:10:05.473 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 68586.0507ms
2025-11-23 17:10:05.474 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:10:05.504 +05:30 [ERR] Exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1e43d375-d332-4e64-a100-aee59dc7e906
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 150
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:10:05.506 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 68657.1699ms
2025-11-23 17:10:09.017 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:10:09.024 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:10:09.024 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:10:18.634 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogDetailId] = @__p_0
2025-11-23 17:10:31.664 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__request_CartLogId_0
2025-11-23 17:10:31.683 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method147(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method147(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:10:31.741 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 22716.4973ms
2025-11-23 17:10:31.741 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:10:31.769 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method147(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 103
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:10:31.770 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 22753.4957ms
2025-11-23 17:20:08.071 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:20:08.372 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:20:08.489 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:20:08.489 +05:30 [INF] Hosting environment: Development
2025-11-23 17:20:08.489 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:20:08.704 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 341.0857ms
2025-11-23 17:20:08.734 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:20:08.734 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:20:08.739 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 5.5991ms
2025-11-23 17:20:08.790 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.4312ms
2025-11-23 17:20:08.863 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:20:08.874 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.3575ms
2025-11-23 17:20:08.996 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:20:09.242 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:20:09.275 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:20:24.438 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:20:27.867 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 18589.9328ms
2025-11-23 17:20:27.871 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:21:03.152 +05:30 [ERR] Exception: The key value at position 0 of the call to 'DbSet<CartLog>.Find' was of type 'bool', which does not match the property type of 'int'.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<CartLog>.Find' was of type 'bool', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(IKey key, Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 74
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:21:03.184 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 54187.8229ms
2025-11-23 17:24:03.132 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:24:03.376 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:24:03.514 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:24:03.514 +05:30 [INF] Hosting environment: Development
2025-11-23 17:24:03.514 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:24:03.694 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 327.3934ms
2025-11-23 17:24:03.741 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:24:03.741 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:24:03.748 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 10.1976ms
2025-11-23 17:24:03.786 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.0722ms
2025-11-23 17:24:03.875 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:24:03.887 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.2777ms
2025-11-23 17:24:05.371 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:24:05.648 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:24:05.681 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:24:06.524 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:24:07.495 +05:30 [INF] Executed DbCommand (97ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:24:07.568 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:24:07.799 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 2114.9718ms
2025-11-23 17:24:07.801 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:24:07.949 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 76
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:24:07.969 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 2598.5261ms
2025-11-23 17:24:13.468 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:24:13.476 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:24:13.476 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:24:25.444 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
2025-11-23 17:24:25.445 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method32(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method32(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-11-23 17:24:33.976 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:24:33.977 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-23 17:24:34.034 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 20557.2949ms
2025-11-23 17:24:34.034 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:24:34.062 +05:30 [ERR] Exception: Data is Null. This method or property cannot be called on Null values.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method18(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 76
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:24:34.064 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 20595.7208ms
2025-11-23 17:29:42.701 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:29:43.084 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:29:43.085 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:29:43.321 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:29:43.321 +05:30 [INF] Hosting environment: Development
2025-11-23 17:29:43.321 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:29:43.401 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:29:43.468 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:29:43.483 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 413.9042ms
2025-11-23 17:29:43.531 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:29:43.533 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:29:43.552 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 21.1789ms
2025-11-23 17:29:43.608 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.4681ms
2025-11-23 17:29:43.711 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:29:43.724 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.7355ms
2025-11-23 17:29:52.234 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:29:52.724 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:29:59.913 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:29:59.920 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 16450.4654ms
2025-11-23 17:29:59.921 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:29:59.925 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 401 null application/json; charset=utf-8 16856.383ms
2025-11-23 17:30:07.358 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/login - application/json 56
2025-11-23 17:30:11.062 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:30:11.066 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LinenManagementAPI.DTOs.LoginRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:30:11.116 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[Email] = @__request_Email_0
2025-11-23 17:30:11.360 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2025-11-23 17:30:11.367 +05:30 [INF] Login successful: john@tdss.com
2025-11-23 17:30:11.368 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[LinenManagementAPI.DTOs.AuthResponse, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:30:11.370 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Login (linen_management_system) in 304.1098ms
2025-11-23 17:30:11.371 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:30:11.371 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/login - 200 null application/json; charset=utf-8 4012.9402ms
2025-11-23 17:30:15.406 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/login - application/json 56
2025-11-23 17:30:15.411 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:30:15.411 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LinenManagementAPI.DTOs.LoginRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:30:15.443 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[Email] = @__request_Email_0
2025-11-23 17:30:15.736 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2025-11-23 17:30:15.736 +05:30 [INF] Login successful: john@tdss.com
2025-11-23 17:30:15.736 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[LinenManagementAPI.DTOs.AuthResponse, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:30:15.737 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Login (linen_management_system) in 325.2637ms
2025-11-23 17:30:15.737 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:30:15.737 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/login - 200 null application/json; charset=utf-8 331.4115ms
2025-11-23 17:30:44.565 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 0
2025-11-23 17:30:44.568 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:30:44.570 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:30:44.585 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-23 17:30:44.624 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 53.1049ms
2025-11-23 17:30:44.624 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:30:44.624 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 400 null application/problem+json; charset=utf-8 59.9091ms
2025-11-23 17:31:00.774 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:31:00.778 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:31:00.778 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:31:04.351 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:31:10.339 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:31:10.339 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 9560.8778ms
2025-11-23 17:31:10.339 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:31:10.340 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 401 null application/json; charset=utf-8 9565.4476ms
2025-11-23 17:32:08.460 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 462
2025-11-23 17:32:08.466 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:32:08.466 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:32:11.189 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:32:25.209 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:32:28.290 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartLog] SET [ActualWeight] = @p0, [Comments] = @p1, [DateWeighed] = @p2, [ReceiptNumber] = @p3, [ReportedWeight] = @p4
OUTPUT 1
WHERE [CartLogId] = @p5;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p6;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p7;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p8;
2025-11-23 17:32:32.894 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:32:32.908 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d1746754-22dc-4df8-ae6d-98a0551c7d54
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d1746754-22dc-4df8-ae6d-98a0551c7d54
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-23 17:32:32.951 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 24485.113ms
2025-11-23 17:32:32.952 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:32:32.991 +05:30 [ERR] Exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d1746754-22dc-4df8-ae6d-98a0551c7d54
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 129
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:32:32.996 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 24537.0421ms
2025-11-23 17:33:03.323 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 466
2025-11-23 17:33:03.324 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:33:03.324 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:33:06.619 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:33:19.475 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:33:23.172 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0, [ReceiptNumber] = @p1
OUTPUT 1
WHERE [CartLogId] = @p2;
2025-11-23 17:33:45.090 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:33:45.092 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'LinenManagementAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d1746754-22dc-4df8-ae6d-98a0551c7d54
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d1746754-22dc-4df8-ae6d-98a0551c7d54
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-23 17:33:45.158 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 41833.0844ms
2025-11-23 17:33:45.158 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:33:45.192 +05:30 [ERR] Exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_CartLogDetatil_Linen". The conflict occurred in database "LINEN_MANAGEMENT", table "dbo.Linen", column 'LinenId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d1746754-22dc-4df8-ae6d-98a0551c7d54
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LinenManagement.Services.CartLogService.UpsertCartLogAsync(CartLogDto request, Int32 currentEmployeeId) in C:\Users\syase\source\repos\linen_management_system\Service\CartLogService.cs:line 129
   at LinenManagement.Controllers.CartLogsController.UpsertCartLog(CartLogDto request) in C:\Users\syase\source\repos\linen_management_system\Controllers\CartLogsController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at DataAccess.Middleware.GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\syase\source\repos\DataAccess\Middleware\GlobalExceptionMiddleware.cs:line 29
2025-11-23 17:33:45.193 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 500 null application/json 41870.1884ms
2025-11-23 17:36:30.762 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:36:31.049 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:36:31.196 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:36:31.196 +05:30 [INF] Hosting environment: Development
2025-11-23 17:36:31.196 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:36:31.359 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 319.7164ms
2025-11-23 17:36:31.376 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:36:31.376 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:36:31.385 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 5.2091ms
2025-11-23 17:36:31.421 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.7382ms
2025-11-23 17:36:31.447 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:36:31.469 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.0433ms
2025-11-23 17:36:34.461 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:36:34.711 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:36:34.751 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:36:40.570 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:36:41.048 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:36:45.626 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:36:47.531 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0
OUTPUT 1
WHERE [CartLogId] = @p1;
2025-11-23 17:36:50.014 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:36:51.846 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 17:36:51.869 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:36:51.874 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:36:51.882 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:36:54.552 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:36:56.534 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 21780.2744ms
2025-11-23 17:36:56.534 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:36:56.539 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 22077.8789ms
2025-11-23 17:47:24.176 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:47:24.496 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:47:24.620 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:47:24.621 +05:30 [INF] Hosting environment: Development
2025-11-23 17:47:24.621 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:47:24.808 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 320.0089ms
2025-11-23 17:47:24.822 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:47:24.823 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:47:24.832 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 9.5366ms
2025-11-23 17:47:24.907 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.4129ms
2025-11-23 17:47:24.923 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:47:24.944 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.8347ms
2025-11-23 17:47:31.740 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/login - application/json 56
2025-11-23 17:47:31.909 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:47:31.936 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LinenManagementAPI.DTOs.LoginRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:47:32.859 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:47:33.854 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[Email] = @__request_Email_0
2025-11-23 17:48:16.604 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:48:16.986 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:48:17.249 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:48:17.250 +05:30 [INF] Hosting environment: Development
2025-11-23 17:48:17.250 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:48:17.271 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 300.6988ms
2025-11-23 17:48:17.289 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:48:17.289 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:48:17.301 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 8.299ms
2025-11-23 17:48:17.345 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.0532ms
2025-11-23 17:48:17.376 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:48:17.391 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.6364ms
2025-11-23 17:48:21.438 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/login - application/json 56
2025-11-23 17:48:21.540 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:48:21.566 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LinenManagementAPI.DTOs.LoginRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:48:22.430 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:48:23.441 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[Email] = @__request_Email_0
2025-11-23 17:49:17.128 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 17:49:17.442 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 17:49:17.599 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 17:49:17.599 +05:30 [INF] Hosting environment: Development
2025-11-23 17:49:17.599 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 17:49:17.772 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 346.7664ms
2025-11-23 17:49:17.813 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 17:49:17.813 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 17:49:17.818 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 8.008ms
2025-11-23 17:49:17.876 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.6927ms
2025-11-23 17:49:17.975 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 17:49:17.989 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.497ms
2025-11-23 17:49:18.054 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/login - application/json 56
2025-11-23 17:49:18.197 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:49:18.228 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LinenManagementAPI.DTOs.LoginRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:49:19.027 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 17:49:19.973 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[Email] = @__request_Email_0
2025-11-23 17:49:20.495 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2025-11-23 17:49:20.513 +05:30 [INF] Login successful: john@tdss.com
2025-11-23 17:49:20.522 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[LinenManagementAPI.DTOs.AuthResponse, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:49:20.539 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Login (linen_management_system) in 2306.3833ms
2025-11-23 17:49:20.540 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:49:20.549 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/login - 200 null application/json; charset=utf-8 2494.4524ms
2025-11-23 17:49:27.522 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/refresh - application/json 114
2025-11-23 17:49:27.528 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:49:27.539 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(linen_management_system.DTOModels.RefreshRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:49:27.588 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[RefreshToken] = @__refreshToken_0
2025-11-23 17:49:27.745 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:49:27.748 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Refresh (linen_management_system) in 209.1405ms
2025-11-23 17:49:27.749 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:49:27.749 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/refresh - 401 null application/json; charset=utf-8 227.0601ms
2025-11-23 17:49:47.854 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/refresh - application/json 114
2025-11-23 17:49:47.906 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:19:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-11-23 17:49:47.912 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:19:47'.
2025-11-23 17:49:47.912 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:49:47.913 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(linen_management_system.DTOModels.RefreshRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:49:47.990 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[RefreshToken] = @__refreshToken_0
2025-11-23 17:49:48.075 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:49:48.076 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Refresh (linen_management_system) in 162.8521ms
2025-11-23 17:49:48.076 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:49:48.076 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/refresh - 401 null application/json; charset=utf-8 223.1752ms
2025-11-23 17:49:49.918 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/refresh - application/json 114
2025-11-23 17:49:49.922 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:19:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-11-23 17:49:49.924 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:19:49'.
2025-11-23 17:49:49.924 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:49:49.924 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(linen_management_system.DTOModels.RefreshRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:49:49.942 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[RefreshToken] = @__refreshToken_0
2025-11-23 17:49:50.035 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:49:50.036 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Refresh (linen_management_system) in 111.6153ms
2025-11-23 17:49:50.036 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:49:50.036 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/refresh - 401 null application/json; charset=utf-8 118.2923ms
2025-11-23 17:51:11.367 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/refresh - application/json 114
2025-11-23 17:51:11.383 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:21:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-11-23 17:51:11.383 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:21:11'.
2025-11-23 17:51:11.383 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:51:11.383 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(linen_management_system.DTOModels.RefreshRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:51:11.419 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[RefreshToken] = @__refreshToken_0
2025-11-23 17:51:11.564 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:51:11.565 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Refresh (linen_management_system) in 181.9731ms
2025-11-23 17:51:11.566 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:51:11.566 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/refresh - 401 null application/json; charset=utf-8 201.5732ms
2025-11-23 17:51:33.718 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/refresh - application/json 114
2025-11-23 17:51:33.724 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:21:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-11-23 17:51:33.724 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:21:33'.
2025-11-23 17:51:33.724 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:51:33.724 +05:30 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(linen_management_system.DTOModels.RefreshRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:51:33.747 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[RefreshToken] = @__refreshToken_0
2025-11-23 17:51:33.769 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2025-11-23 17:51:33.770 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[LinenManagementAPI.DTOs.AuthResponse, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:51:33.770 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Refresh (linen_management_system) in 45.6371ms
2025-11-23 17:51:33.770 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Refresh (linen_management_system)'
2025-11-23 17:51:33.771 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/refresh - 200 null application/json; charset=utf-8 52.5228ms
2025-11-23 17:51:47.679 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44347/api/cartlogs?cartType=SOLID&locationId=1&employeeId=2 - null null
2025-11-23 17:51:47.681 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:21:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-11-23 17:51:47.682 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:21:47'.
2025-11-23 17:51:47.691 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-23 17:51:47.701 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-23 17:51:47.703 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44347/api/cartlogs?cartType=SOLID&locationId=1&employeeId=2 - 401 null null 23.4541ms
2025-11-23 17:52:05.141 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44347/api/cartlogs?cartType=SOLID&locationId=1&employeeId=2 - null null
2025-11-23 17:52:05.161 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.GetCartLogs (linen_management_system)'
2025-11-23 17:52:05.174 +05:30 [INF] Route matched with {action = "GetCartLogs", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartLogs(System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:52:05.246 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId]
FROM [Carts] AS [c]
WHERE LOWER([c].[Type]) = @__ToLower_0
2025-11-23 17:52:05.277 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE 0 = 1
ORDER BY [c].[DateWeighed] DESC
2025-11-23 17:52:05.279 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:52:05.290 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.GetCartLogs (linen_management_system) in 115.9088ms
2025-11-23 17:52:05.290 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.GetCartLogs (linen_management_system)'
2025-11-23 17:52:05.291 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:44347/api/cartlogs?cartType=SOLID&locationId=1&employeeId=2 - 200 null application/json; charset=utf-8 150.228ms
2025-11-23 17:52:12.220 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/2 - null null
2025-11-23 17:52:12.224 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:12.232 +05:30 [INF] Route matched with {action = "DeleteCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartLog(Int32) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:52:12.264 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:52:12.347 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:52:12.349 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system) in 116.5624ms
2025-11-23 17:52:12.349 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:12.349 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/2 - 404 null application/json; charset=utf-8 130.2031ms
2025-11-23 17:52:18.324 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - null null
2025-11-23 17:52:18.325 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:18.325 +05:30 [INF] Route matched with {action = "DeleteCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartLog(Int32) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:52:18.342 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:52:18.482 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:52:18.483 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system) in 157.6109ms
2025-11-23 17:52:18.483 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:18.483 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - 401 null application/json; charset=utf-8 160.0728ms
2025-11-23 17:52:29.058 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/logout - application/x-www-form-urlencoded 21
2025-11-23 17:52:29.059 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:22:29'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-11-23 17:52:29.059 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23-11-2025 11:03:46', Current time (UTC): '23-11-2025 12:22:29'.
2025-11-23 17:52:29.060 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-23 17:52:29.060 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-23 17:52:29.061 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/logout - 401 null null 3.417ms
2025-11-23 17:52:36.371 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/logout - application/x-www-form-urlencoded 21
2025-11-23 17:52:36.372 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Logout (linen_management_system)'
2025-11-23 17:52:36.379 +05:30 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:52:36.394 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[Email] = @__email_0
2025-11-23 17:52:36.404 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2025-11-23 17:52:36.405 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:52:36.406 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Logout (linen_management_system) in 27.3244ms
2025-11-23 17:52:36.406 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Logout (linen_management_system)'
2025-11-23 17:52:36.407 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/logout - 200 null application/json; charset=utf-8 35.497ms
2025-11-23 17:52:40.121 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/auth/login - application/json 56
2025-11-23 17:52:40.122 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:52:40.122 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LinenManagementAPI.DTOs.LoginRequest) on controller LinenManagement.Controllers.AuthController (linen_management_system).
2025-11-23 17:52:40.138 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[Email], [e].[Name], [e].[Password], [e].[RefreshToken]
FROM [Employees] AS [e]
WHERE [e].[Email] = @__request_Email_0
2025-11-23 17:52:40.326 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [RefreshToken] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
2025-11-23 17:52:40.327 +05:30 [INF] Login successful: john@tdss.com
2025-11-23 17:52:40.327 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[LinenManagementAPI.DTOs.AuthResponse, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:52:40.327 +05:30 [INF] Executed action LinenManagement.Controllers.AuthController.Login (linen_management_system) in 205.5277ms
2025-11-23 17:52:40.327 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.AuthController.Login (linen_management_system)'
2025-11-23 17:52:40.328 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/auth/login - 200 null application/json; charset=utf-8 206.423ms
2025-11-23 17:52:50.374 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - null null
2025-11-23 17:52:50.378 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:50.378 +05:30 [INF] Route matched with {action = "DeleteCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartLog(Int32) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:52:50.387 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:52:50.491 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:52:50.492 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system) in 114.2847ms
2025-11-23 17:52:50.492 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:50.493 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - 401 null application/json; charset=utf-8 119.5639ms
2025-11-23 17:52:52.484 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - null null
2025-11-23 17:52:52.485 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:52.485 +05:30 [INF] Route matched with {action = "DeleteCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartLog(Int32) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:52:52.497 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:52:52.590 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:52:52.590 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system) in 104.9425ms
2025-11-23 17:52:52.590 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:52.591 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - 401 null application/json; charset=utf-8 106.4198ms
2025-11-23 17:52:57.422 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/8 - null null
2025-11-23 17:52:57.423 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:57.424 +05:30 [INF] Route matched with {action = "DeleteCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartLog(Int32) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:52:57.438 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:52:57.458 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:52:57.584 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p0;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p1;
DELETE FROM [CartLog]
OUTPUT 1
WHERE [CartLogId] = @p2;
2025-11-23 17:52:57.604 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:52:57.605 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system) in 181.416ms
2025-11-23 17:52:57.605 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:52:57.605 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/8 - 200 null application/json; charset=utf-8 183.8631ms
2025-11-23 17:53:04.131 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - null null
2025-11-23 17:53:04.132 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:53:04.132 +05:30 [INF] Route matched with {action = "DeleteCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartLog(Int32) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:04.149 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:04.280 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:53:04.281 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system) in 149.2999ms
2025-11-23 17:53:04.281 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:53:04.283 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/7 - 401 null application/json; charset=utf-8 153.0434ms
2025-11-23 17:53:07.551 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/8 - null null
2025-11-23 17:53:07.552 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:53:07.552 +05:30 [INF] Route matched with {action = "DeleteCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartLog(Int32) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:07.566 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:07.655 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:53:07.655 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system) in 103.268ms
2025-11-23 17:53:07.655 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.DeleteCartLog (linen_management_system)'
2025-11-23 17:53:07.656 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:44347/api/cartlogs/8 - 404 null application/json; charset=utf-8 104.9341ms
2025-11-23 17:53:15.087 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:53:15.088 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:15.094 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:15.136 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:15.225 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:53:15.226 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 131.621ms
2025-11-23 17:53:15.226 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:15.226 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 140.11ms
2025-11-23 17:53:23.854 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:53:23.854 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:23.854 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:23.885 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:23.991 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 17:53:23.991 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 137.1158ms
2025-11-23 17:53:23.992 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:23.992 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 138.2332ms
2025-11-23 17:53:27.937 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:53:27.937 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:27.937 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:27.944 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:27.961 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:53:27.982 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartLog] SET [CartId] = @p0, [Comments] = @p1, [DateWeighed] = @p2, [LocationId] = @p3, [ReceiptNumber] = @p4, [ReportedWeight] = @p5
OUTPUT 1
WHERE [CartLogId] = @p6;
2025-11-23 17:53:28.043 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:53:28.062 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 17:53:28.075 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:53:28.085 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:28.095 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:28.095 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:53:28.104 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 166.9405ms
2025-11-23 17:53:28.104 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:28.104 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 167.8777ms
2025-11-23 17:53:30.886 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:53:30.886 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:30.886 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:30.895 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:30.902 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:53:30.917 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0
OUTPUT 1
WHERE [CartLogId] = @p1;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p2;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p3;
2025-11-23 17:53:30.927 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:53:30.931 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 17:53:30.934 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:53:30.938 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:30.941 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:30.941 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:53:30.942 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 55.9862ms
2025-11-23 17:53:30.942 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:30.943 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 57.2238ms
2025-11-23 17:53:31.801 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:53:31.802 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:31.802 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:31.807 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:31.811 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:53:31.835 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0
OUTPUT 1
WHERE [CartLogId] = @p1;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p2;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p3;
2025-11-23 17:53:31.852 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:53:31.856 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 17:53:31.858 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:53:31.860 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:31.862 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:31.862 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:53:31.863 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 60.7625ms
2025-11-23 17:53:31.863 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:31.863 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 61.7533ms
2025-11-23 17:53:32.573 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:53:32.576 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:32.576 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:32.583 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:32.585 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:53:32.588 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0
OUTPUT 1
WHERE [CartLogId] = @p1;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p2;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p3;
2025-11-23 17:53:32.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:53:32.593 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 17:53:32.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:53:32.605 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:32.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:32.607 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:53:32.612 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 36.5032ms
2025-11-23 17:53:32.613 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:32.613 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 499 null application/json; charset=utf-8 43.1826ms
2025-11-23 17:53:32.984 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 475
2025-11-23 17:53:32.985 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:32.985 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:32.991 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:32.994 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:53:33.001 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0
OUTPUT 1
WHERE [CartLogId] = @p1;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p2;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p3;
2025-11-23 17:53:33.006 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:53:33.010 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 17:53:33.013 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:53:33.016 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:33.019 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:33.020 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:53:33.020 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 35.3522ms
2025-11-23 17:53:33.020 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:33.021 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 36.8171ms
2025-11-23 17:53:36.004 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 478
2025-11-23 17:53:36.004 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:36.004 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 17:53:36.012 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 17:53:36.018 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLog_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLog_CartLogId_0
2025-11-23 17:53:36.039 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0, [ReceiptNumber] = @p1
OUTPUT 1
WHERE [CartLogId] = @p2;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p3;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p4;
2025-11-23 17:53:36.049 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 17:53:36.052 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 17:53:36.055 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 17:53:36.058 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:36.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 17:53:36.060 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 17:53:36.061 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 56.2555ms
2025-11-23 17:53:36.061 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 17:53:36.061 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 57.1445ms
2025-11-23 18:02:03.155 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 18:02:03.471 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 18:02:03.471 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:02:03.743 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:02:03.780 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:02:03.800 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 18:02:03.800 +05:30 [INF] Hosting environment: Development
2025-11-23 18:02:03.800 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 18:02:03.812 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 352.7795ms
2025-11-23 18:02:03.858 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 18:02:03.858 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 18:02:03.872 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 14.4099ms
2025-11-23 18:02:03.920 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.8546ms
2025-11-23 18:02:04.078 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 18:02:04.088 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.7079ms
2025-11-23 18:02:04.575 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 18:02:05.430 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
FROM [CartLog] AS [c]
WHERE [c].[CartLogId] = @__p_0
2025-11-23 18:02:05.630 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 18:02:05.643 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 1858.6827ms
2025-11-23 18:02:05.643 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:02:05.653 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 2194.7875ms
2025-11-23 18:03:59.608 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 18:03:59.886 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 18:04:00.042 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 18:04:00.042 +05:30 [INF] Hosting environment: Development
2025-11-23 18:04:00.042 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 18:04:00.200 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 325.174ms
2025-11-23 18:04:00.221 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 18:04:00.221 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 18:04:00.233 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 7.5217ms
2025-11-23 18:04:00.277 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.1015ms
2025-11-23 18:04:00.303 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 18:04:00.319 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.7116ms
2025-11-23 18:05:36.574 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 18:05:36.847 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 18:05:36.974 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 18:05:36.975 +05:30 [INF] Hosting environment: Development
2025-11-23 18:05:36.975 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 18:05:37.136 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 298.2558ms
2025-11-23 18:05:37.153 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 18:05:37.153 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 18:05:37.161 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 5.128ms
2025-11-23 18:05:37.194 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.4945ms
2025-11-23 18:05:37.225 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 18:05:37.238 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.341ms
2025-11-23 18:05:40.872 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:05:41.060 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:05:41.111 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:05:41.983 +05:30 [WRN] No store type was specified for the decimal property 'Weight' on entity type 'Linen'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-23 18:05:43.309 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:05:43.510 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 18:05:43.521 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 2406.5389ms
2025-11-23 18:05:43.522 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:05:43.530 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 2657.5905ms
2025-11-23 18:05:46.774 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:05:46.789 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:05:46.789 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:05:46.826 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:05:46.897 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 18:05:46.899 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 109.8346ms
2025-11-23 18:05:46.899 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:05:46.900 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 125.7282ms
2025-11-23 18:05:58.122 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:05:58.129 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:05:58.129 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:05:58.219 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:05:58.318 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 18:05:58.321 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 191.5763ms
2025-11-23 18:05:58.321 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:05:58.321 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 198.9281ms
2025-11-23 18:06:25.725 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:06:25.726 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:06:25.726 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:06:25.749 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:06:25.856 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 18:06:25.857 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 130.7972ms
2025-11-23 18:06:25.857 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:06:25.858 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 132.9747ms
2025-11-23 18:06:39.339 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:06:39.340 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:06:39.340 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:06:55.578 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:07:00.223 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 18:07:00.224 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 20884.024ms
2025-11-23 18:07:00.224 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:07:00.224 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 20885.3348ms
2025-11-23 18:07:36.771 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:07:36.777 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:07:36.777 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:07:40.560 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:07:42.948 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-23 18:07:42.949 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 6171.6171ms
2025-11-23 18:07:42.949 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:07:42.949 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 404 null application/json; charset=utf-8 6187.506ms
2025-11-23 18:08:13.756 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 478
2025-11-23 18:08:13.757 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:08:13.757 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:08:22.039 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:08:38.219 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [CartLog] SET [DateWeighed] = @p0
OUTPUT 1
WHERE [CartLogId] = @p1;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p2;
DELETE FROM [CartLogDetail]
OUTPUT 1
WHERE [CartLogDetailId] = @p3;
2025-11-23 18:08:46.901 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 18:08:48.258 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 18:08:48.278 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 18:08:48.283 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 18:08:48.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 18:08:50.788 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 18:08:50.793 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 37035.3626ms
2025-11-23 18:08:50.793 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:08:50.793 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 37037.555ms
2025-11-23 18:11:10.635 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - application/json 479
2025-11-23 18:11:10.636 +05:30 [INF] Executing endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:11:10.636 +05:30 [INF] Route matched with {action = "UpsertCartLog", controller = "CartLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpsertCartLog(linen_management_system.DTOModels.CartLogDto) on controller LinenManagement.Controllers.CartLogsController (linen_management_system).
2025-11-23 18:11:14.021 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__request_CartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CartLogId], [t].[ActualWeight], [t].[CartId], [t].[Comments], [t].[DateWeighed], [t].[EmployeeId], [t].[LocationId], [t].[ReceiptNumber], [t].[ReportedWeight], [c0].[CartLogDetailId], [c0].[CartLogId], [c0].[Count], [c0].[LinenId]
FROM (
    SELECT TOP(1) [c].[CartLogId], [c].[ActualWeight], [c].[CartId], [c].[Comments], [c].[DateWeighed], [c].[EmployeeId], [c].[LocationId], [c].[ReceiptNumber], [c].[ReportedWeight]
    FROM [CartLog] AS [c]
    WHERE [c].[CartLogId] = @__request_CartLogId_0
) AS [t]
LEFT JOIN [CartLogDetail] AS [c0] ON [t].[CartLogId] = [c0].[CartLogId]
ORDER BY [t].[CartLogId]
2025-11-23 18:11:20.084 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [CartLog] SET [CartId] = @p0, [Comments] = @p1, [DateWeighed] = @p2, [LocationId] = @p3, [ReceiptNumber] = @p4, [ReportedWeight] = @p5
OUTPUT 1
WHERE [CartLogId] = @p6;
2025-11-23 18:11:20.090 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [CartLogDetail] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([CartLogId], [Count], [LinenId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CartLogId], [Count], [LinenId])
VALUES (i.[CartLogId], i.[Count], i.[LinenId])
OUTPUT INSERTED.[CartLogDetailId], i._Position;
2025-11-23 18:11:20.093 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[Name], [c].[Type], [c].[Weight]
FROM [Carts] AS [c]
WHERE [c].[CartId] = @__p_0
2025-11-23 18:11:20.094 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartLogId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartLogDetailId], [c].[CartLogId], [c].[Count], [c].[LinenId]
FROM [CartLogDetail] AS [c]
WHERE [c].[CartLogId] = @__cartLogId_0
2025-11-23 18:11:20.095 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 18:11:20.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LinenId], [l].[Name], [l].[Weight]
FROM [Linen] AS [l]
WHERE [l].[LinenId] = @__p_0
2025-11-23 18:11:20.097 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[linen_management_system.DTOModels.CartLogDto, linen_management_system, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-23 18:11:20.097 +05:30 [INF] Executed action LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system) in 9460.9221ms
2025-11-23 18:11:20.097 +05:30 [INF] Executed endpoint 'LinenManagement.Controllers.CartLogsController.UpsertCartLog (linen_management_system)'
2025-11-23 18:11:20.098 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:44347/api/cartlogs/upsert - 200 null application/json; charset=utf-8 9462.3886ms
2025-11-23 18:59:19.023 +05:30 [INF] User profile is available. Using 'C:\Users\syase\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-23 18:59:19.458 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/index.html - null null
2025-11-23 18:59:19.619 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-23 18:59:19.619 +05:30 [INF] Hosting environment: Development
2025-11-23 18:59:19.619 +05:30 [INF] Content root path: C:\Users\syase\source\repos\linen_management_system
2025-11-23 18:59:19.816 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/index.html - 200 null text/html;charset=utf-8 369.7252ms
2025-11-23 18:59:19.824 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - null null
2025-11-23 18:59:19.830 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/_vs/browserLink - null null
2025-11-23 18:59:19.834 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_framework/aspnetcore-browser-refresh.js - 200 16531 application/javascript; charset=utf-8 10.3296ms
2025-11-23 18:59:19.870 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.9567ms
2025-11-23 18:59:20.016 +05:30 [INF] Request starting HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - null null
2025-11-23 18:59:20.036 +05:30 [INF] Request finished HTTP/2 GET https://localhost:44347/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.2141ms
