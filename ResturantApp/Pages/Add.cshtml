@page
@model ResturantApp.Pages.AddModel
@{
}


<!-- form grid -->
<div class="panel lg:row-span-3">
    <div class="mb-5 flex items-center justify-between">
        <h5 class="text-lg font-semibold dark:text-white-light">Form controls</h5>
    </div>
    <div class="mb-5">
        <form class="space-y-5">
            <div>
                <label for="ctnEmail">Name</label>
                <input id="Name" name="Name" data="" type="text" placeholder="Name" class="form-input" required="">
            </div>
            <div>
                <label for="ctnEmail">Email address</label>
                <input id="Email" type="email" placeholder="Email" class="form-input" required="">
            </div>
            <div>
                <label for="ctnEmail">Phone</label>
                <input id="Phone" type="text" placeholder="Phone" class="form-input" required="">
            </div>
            <button type="button" class="btn btn-primary !mt-6"  onclick="Add();">Submit</button>
        </form>
    </div>
</div>
<script>
function Add()
{
          // Collect data from inputs
    var name = document.getElementById("Name").value;
    var email = document.getElementById("Email").value;
    var phone = document.getElementById("Phone").value;

    // Simple validation
    if(name === '' || email === '' || phone === '') {
        alert("All Fields are Required");
        return;
    }

    // Send AJAX POST request
       // Collect data from inputs
        var Resturant = {
        Name: document.getElementById("Name").value,
        Email: document.getElementById("Email").value,
        Phone: document.getElementById("Phone").value
    };

    // Simple validation
    if(!Resturant.Name || !Resturant.Email || !Resturant.Phone){
        alert("All Fields are Required");
        return;
    }

    // Send AJAX POST request as JSON
    $.ajax({
          url: '@Url.Action("AddData", "Home")',
        type: 'POST',
        contentType: 'application/json',  // Important for model binding
        data: JSON.stringify(Resturant), // Convert object to JSON
        success: function(response) {
            console.log(response);
            alert("Resturant added successfully!");
            // Optionally reset the form
            document.getElementById("Name").value = '';
            document.getElementById("Email").value = '';
            document.getElementById("Phone").value = '';
        },
        error: function(xhr, status, error) {
            console.error(error);
            alert("Failed to save data. Please try again.");
        }
    });



}
</script>
